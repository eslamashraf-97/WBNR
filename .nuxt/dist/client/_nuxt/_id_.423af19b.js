import{a as Y,n as A,c as Z}from"./entry.6d26f239.js";import{_ as tt}from"./nuxt-link.9b0c7cb7.js";import et from"./Icon.fe93bad7.js";import{_ as st}from"./Input.ee62193e.js";import{_ as ot}from"./PrimaryButton.3590a7ea.js";import{_ as at}from"./SecondaryButton.68fdc712.js";import{_ as nt}from"./Title.9bdd06cd.js";import{a1 as N,r as lt,a as O,f as it,E as r,O as p,P as t,m as l,H as u,Q as d,u as e,F as y,$ as P,R as c,G as b,a0 as rt,a7 as dt,l as ct}from"./swiper-vue.cec2437d.js";import{_ as _t}from"./ProductSwiper.fb57cd90.js";import{u as pt}from"./useCartLength.2c8490eb.js";import{u as D}from"./useApi.a33fd01d.js";import{u as ut}from"./useRequest.c26dc291.js";import{y as mt,x as xt,h as ft}from"./index.91beaf37.js";import"./state.b5e2d2f6.js";import"./LoaderButton.181013ce.js";const gt=""+new URL("cart-icon.a5682f49.svg",import.meta.url).href,ht=ct(()=>Z(()=>import("./Product.e188e8a5.js"),["./Product.e188e8a5.js","./Icon.fe93bad7.js","./entry.6d26f239.js","./swiper-vue.cec2437d.js","./swiper-vue.25ac1039.css","./entry.755185d7.css","./state.b5e2d2f6.js","./Icon.6f5d80f8.css","./nuxt-link.9b0c7cb7.js","./useSavedProducts.a3ecb773.js","./useCartLength.2c8490eb.js","./useApi.a33fd01d.js","./index.91beaf37.js","./index.e297d5fd.js"],import.meta.url).then(f=>f.default||f)),yt={class:"flex items-center text-gray-400 text-2xl mb-9"},bt=t("span",null," / ",-1),vt=t("span",null," / ",-1),wt={class:"flex gap-16 mb-24"},Ct={class:"bg-white p-9 rounded-lg"},kt={class:"gallery flex gap-2"},qt=["src"],$t={class:"flex flex-col justify-between rounded-lg overflow-hidden"},Tt=["alt","src","onClick"],Vt={class:"text-primary-300 text-xl font-semibold mt-7"},Lt={class:"details flex-1"},jt={class:"main-info"},Bt=t("p",{class:"text-gray-700 text-2xl font-normal"},"اداء المنتج:",-1),Rt={class:"text-gray-800 text-5xl my-4"},St={class:"text-gray-400 text-2xl flex gap-3 items-center"},Ut=t("span",null,"كود المنتج:",-1),At={class:"flex items-center gap-16 mt-10"},Nt=t("span",{class:"text-base text-gray-400 font-light"},"سعر المنتج",-1),Ot={class:"mb-0 text-3xl text-gray-800 flex gap-[10px] items-center leading-[48px]"},Pt=t("span",null,"ج.م",-1),Dt=t("div",{class:"h-[36px] bg-gray-200 w-[1px]"},null,-1),Et=t("span",{class:"text-base text-gray-400 font-light"},"الربح من اجمالي السعر",-1),Gt={class:"mb-0 text-3xl text-gray-800 flex gap-[10px] items-center leading-[48px]"},Ft=t("span",null,"ج.م",-1),Ht={class:"mt-10 mb-10"},Mt=t("span",{class:"text-base text-gray-400 font-light"},"الكمية المتوفرة",-1),zt={class:"mb-0 text-3xl text-gray-800 flex gap-[10px] items-center leading-[48px]"},Jt=t("span",null,"قطعة",-1),Qt={class:"px-9 py-5 shadow-main rounded-sm border border-gray-200 max-w-[650px]"},It={class:"flex items-center gap-6"},Kt=t("span",{class:"text-base text-gray-400 font-light mb-5 block"},"الكمية",-1),Wt={class:"relative w-[96px]"},Xt={class:"absolute top-[1px] left-[1px] bottom-[1px] flex flex-col items-center bg-white rounded-[11px]"},Yt=t("span",{class:"text-base text-gray-400 font-light mb-5 block"},"سعر البيع للقطعة",-1),Zt={class:"relative w-[172px]"},te=t("div",{class:"absolute top-[1px] left-[1px] bottom-[1px] flex flex-col bg-white rounded-[11px]"},[t("div",{class:"w-[57px] flex-1 border-s border-s-gray-200 flex items-center justify-center text-xl text-gray-300 font-bold"}," ج.م ")],-1),ee={class:"text-base text-gray-400 flex gap-[12px] mt-auto mb-3"},se=t("span",null,"الربح من اجمالي السعر",-1),oe={class:"flex items-center gap-[10px] text-primary-300 text-xl"},ae=t("span",null,"ج.م",-1),ne={class:"mt-12 flex items-center gap-7"},le=t("img",{src:gt},null,-1),ie={class:"mb-24"},re=t("p",{class:"text-gray-700 text-3xl font-normal mb-8"},"وصف المنتج",-1),de=["innerHTML"],$e={__name:"[id]",async setup(f){var C,k;let i,m;const{setCartLength:E,cartLength:G}=pt(),F=Y(),{fire:H}=D({url:mt+"/"+F.params.id}),{data:s}=([i,m]=N(()=>H()),i=await i,m(),i),{fire:M}=D({url:xt,requestOptions:{query:{category_id:(C=s.value)==null?void 0:C.data.category_id}}}),{data:z}=([i,m]=N(()=>M()),i=await i,m(),i),n=lt({quantity:1,price:(k=s.value)==null?void 0:k.data.price}),g=O(!1),v=O(!1);async function J(){var o,x;g.value=!0;const _={product_id:(o=s.value)==null?void 0:o.data.id,quantity:n.quantity,final_price:(x=s.value)==null?void 0:x.data.price};await ut({url:ft,requetOptions:{body:JSON.stringify(_),method:"post",onResponse:h=>{v.value=!0,E(G.value+n.quantity)}}}),g.value=!1}const w=it(()=>(n.price-s.value.data.price+s.value.data.minCommission)*n.quantity);return(_,o)=>{var T,V,L,j,B,R,S;const x=tt,h=et,q=st,Q=ot,$=at,I=nt,K=ht,W=dt,X=_t;return r(),p("div",null,[t("div",yt,[l(x,{to:"/suggested-products"},{default:u(()=>[c("المنتجات")]),_:1}),bt,t("span",null,d((L=(V=(T=e(s))==null?void 0:T.data)==null?void 0:V.category)==null?void 0:L.name),1),vt,t("span",null,d((B=(j=e(s))==null?void 0:j.data)==null?void 0:B.title),1)]),(R=e(s))!=null&&R.data?(r(),p(y,{key:0},[t("div",wt,[t("div",Ct,[t("div",kt,[t("img",{src:e(s).data.featured_image,class:"w-[36rem] h-[36rem] object-cover"},null,8,qt),t("div",$t,[(r(!0),p(y,null,P(e(s).data.images,(a,U)=>(r(),p("img",{alt:a.alt_image,src:a.url,class:"w-32 h-32 object-cover cursor-pointer",onClick:ce=>e(s).data.featured_image=a.url},null,8,Tt))),256))])]),t("p",Vt,[c(" تحميل كل صور المنتج "),t("span",null,[l(h,{name:"pepicons-pop:angle-left"})])])]),t("div",Lt,[t("div",jt,[Bt,t("h1",Rt,d(e(s).data.title),1),t("p",St,[Ut,t("span",null,d(e(s).data.code),1)])]),t("div",At,[t("div",null,[Nt,t("h6",Ot,[c(d(e(s).data.price)+" ",1),Pt])]),Dt,t("div",null,[Et,t("h6",Gt,[c(d(e(s).data.minCommission)+" ",1),Ft])])]),t("div",Ht,[Mt,t("h6",zt,[c(d(e(s).data.stock)+" ",1),Jt])]),t("div",Qt,[t("div",It,[t("div",null,[Kt,t("div",Wt,[l(q,{type:"text",class:"w-[96px] h-[53px] bg-transparent text-xl",modelValue:e(n).quantity,"onUpdate:modelValue":o[0]||(o[0]=a=>e(n).quantity=a),modelModifiers:{number:!0}},null,8,["modelValue"]),t("div",Xt,[t("button",{type:"button",class:"w-[24px] flex-1 border-b border-b-gray-200 border-s border-s-gray-200",onClick:o[1]||(o[1]=a=>e(n).quantity++)}," + "),t("button",{type:"button",class:"w-[24px] flex-1 border-s border-s-gray-200",onClick:o[2]||(o[2]=a=>e(n).quantity>1?e(n).quantity--:null)}," - ")])])]),t("div",null,[Yt,t("div",Zt,[l(q,{type:"text",class:"!w-[172px] h-[53px] bg-transparent text-xl",modelValue:e(n).price,"onUpdate:modelValue":o[3]||(o[3]=a=>e(n).price=a)},null,8,["modelValue"]),te])]),t("span",ee,[se,t("span",oe,[c(d(e(w))+" ",1),ae])])]),t("div",ne,[l(Q,{"submit-title":"اطلب الان",class:"w-[232px] h-[67px]",onClick:o[4]||(o[4]=a=>("navigateTo"in _?_.navigateTo:e(A))(`/checkout-quick-order?product=${e(s).data.id}&title=${e(s).data.title}&price=${e(s).data.price}&minCommission=${e(s).data.minCommission}&commission=${e(w)}&qty=${e(n).quantity}&image=${e(s).data.featured_image}`))}),e(v)?(r(),b($,{key:1,class:"w-[232px h-[67px] flex items-center justify-center",onClick:o[5]||(o[5]=a=>("navigateTo"in _?_.navigateTo:e(A))("/cart"))},{default:u(()=>[c(" اذهب الى العربة "),l(h,{name:"iconamoon:arrow-left-2-duotone",class:"text-2xl"})]),_:1})):(r(),b($,{key:0,class:"w-[93px] h-[67px] flex items-center justify-center",onClick:J,loading:e(g)},{default:u(()=>[le]),_:1},8,["loading"]))])])])]),t("div",ie,[re,t("div",{class:"bg-white rounded-lg border p-9",innerHTML:e(s).data.description},null,8,de)]),l(I,{title:(S=e(s).data.category)==null?void 0:S.name,url:"/suggested-products"},null,8,["title"]),l(X,null,{default:u(()=>[(r(!0),p(y,null,P(e(z).data,(a,U)=>(r(),b(W,{key:U},{default:u(()=>[l(K,{details:a},null,8,["details"])]),_:2},1024))),128))]),_:1})],64)):rt("",!0)])}}};export{$e as default};
