import{_ as A}from"./Title.9bdd06cd.js";import{_ as B}from"./Aside.db2b4afb.js";import{_ as L}from"./Input.ee62193e.js";import N from"./Icon.fe93bad7.js";import{_ as $}from"./menu.af383dd6.js";import{a as j}from"./entry.6d26f239.js";import{u as E}from"./useCountries.9cb2765d.js";import{u as c}from"./useApi.a33fd01d.js";import{e as R,i as S,k as H,l as I}from"./index.91beaf37.js";import{a1 as g,r as Q,a as T,f as z,E as F,O as J,m as l,P as e,u as s,H as v,R as K,Q as y}from"./swiper-vue.cec2437d.js";import"./nuxt-link.9b0c7cb7.js";import"./PrimaryButton.3590a7ea.js";import"./LoaderButton.181013ce.js";import"./state.b5e2d2f6.js";const M={class:"bg-primary"},W={class:"flex flex-col-reverse xl:flex-row justify-start gap-24"},X={class:"flex-1"},Y=e("h5",{class:"text-2xl text-gray-700 mb-16"},"بيانات شخصية",-1),Z={class:"w-full xl:w-[38rem]"},ee={class:"mb-7"},te={class:"mb-7"},oe={class:"mb-24"},se=e("h5",{class:"text-2xl text-gray-700 mb-16"},"بيانات الشحن",-1),ae={class:"mb-16"},le=e("label",{for:"address",class:"text-2xl text-gray-500 mb-6 block"},"العنوان بالتفصيل",-1),re={class:"relative"},ne={class:"absolute top-1/2 -translate-y-1/2 start-[5px]"},de={class:"flex items-center gap-[19px]"},ie=["onClick"],ce={class:"flex items-center gap-6"},me={class:"w-[10.75rem]"},_e=e("label",{for:"address",class:"text-2xl text-gray-500 mb-6 block"},"اسم متجرك",-1),pe={class:"flex-1"},ue=e("label",{for:"address",class:"text-2xl text-gray-500 mb-6 block"},"لينك المتجر ( صفحة الفيسبوك )",-1),Ae={__name:"checkout",async setup(fe){var f,x,h;let r,i;j();const{selectedCountry:p}=E(),{fire:b}=c({url:R,requestOptions:{query:{country_id:(f=p.value)==null?void 0:f.id}}}),{data:m,pending:xe}=([r,i]=g(()=>b()),r=await r,i(),r),{fire:V}=c({url:S,requestOptions:{query:{country_id:(x=p.value)==null?void 0:x.id,take:100}}}),{data:u}=([r,i]=g(()=>V()),r=await r,i(),r),a=Q({name:"",phone:"",secondary_phone:"",address_details:"",store_name:"",store_url:"",governorate_id:""}),{fire:w}=c({url:I,requestOptions:{method:"post"}});function O(n){var t;a.governorate_id=n.id,w({cart_id:(t=m.value)==null?void 0:t.data.id,governorate_id:n.id})}const{fire:k}=c({url:H+"/"+((h=m.value)==null?void 0:h.data.id),requestOptions:{method:"post"}}),_=T(!1);async function P(){_.value=!0,await k(a),_.value=!1}const U=z(()=>{var n;return(n=u.value)==null?void 0:n.data.find(t=>t.id===a.governorate_id)});return(n,t)=>{const C=A,q=B,d=L,G=N,D=$;return F(),J("section",M,[l(C,{title:"مراجعة الطلب"}),e("div",W,[l(q,{details:s(m).data,onPlaceOrder:P,isLoadingPlaceOrder:s(_)},null,8,["details","isLoadingPlaceOrder"]),e("div",X,[Y,e("form",Z,[e("div",ee,[l(d,{placeholder:"الأسم بالكامل",class:"bg-transparent !w-full",type:"text",modelValue:s(a).name,"onUpdate:modelValue":t[0]||(t[0]=o=>s(a).name=o)},null,8,["modelValue"])]),e("div",te,[l(d,{placeholder:"رقم الهاتف",class:"bg-transparent !w-full",type:"text",modelValue:s(a).phone,"onUpdate:modelValue":t[1]||(t[1]=o=>s(a).phone=o)},null,8,["modelValue"])]),e("div",oe,[l(d,{placeholder:"رقم الهاتف البديل (إختياري)",class:"bg-transparent !w-full",type:"text",modelValue:s(a).secondary_phone,"onUpdate:modelValue":t[2]||(t[2]=o=>s(a).secondary_phone=o)},null,8,["modelValue"])]),se,e("div",ae,[le,e("div",re,[l(d,{placeholder:" المنطقة, الشارع, العقار, الشقة",class:"ps-[11.8rem] bg-transparent !w-full",id:"address",type:"text",modelValue:s(a).address_details,"onUpdate:modelValue":t[3]||(t[3]=o=>s(a).address_details=o)},null,8,["modelValue"]),e("div",ne,[l(D,{items:s(u).data,buttonProps:{class:"w-[11.1375rem] h-[3.06rem] !p-0 flex items-center justify-center rounded-[0.75rem] !border-gray-200 !bg-gray-100"},menuProps:{class:"w-[11.1375rem]"}},{label:v(()=>{var o;return[e("div",de,[l(G,{name:"iconamoon:arrow-down-2-duotone"}),K(" "+y(((o=s(U))==null?void 0:o.name)||"المحافظة"),1)])]}),item:v(({data:o})=>[e("button",{type:"button",class:"flex w-full gap-[24px] items-center mb-[19px] last:mb-0 h-[35px]",onClick:he=>O(o)},[e("span",null,y(o.name),1)],8,ie)]),_:1},8,["items"])])])]),e("div",ce,[e("div",me,[_e,l(d,{type:"text",placeholder:"myrgroup",class:"bg-transparent w-full",modelValue:s(a).store_name,"onUpdate:modelValue":t[4]||(t[4]=o=>s(a).store_name=o)},null,8,["modelValue"])]),e("div",pe,[ue,l(d,{type:"url",placeholder:"myrgroup.co",class:"bg-transparent !w-full",modelValue:s(a).store_url,"onUpdate:modelValue":t[5]||(t[5]=o=>s(a).store_url=o)},null,8,["modelValue"])])])])])])])}}};export{Ae as default};
