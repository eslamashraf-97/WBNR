{"version":3,"file":"register-2a2f7e6f.js","sources":["../../../../pages/auth/register.vue"],"sourcesContent":["<script setup>\r\nimport SocialMediaLogin from \"~/components/shared/SocialMediaLogin.vue\";\r\n\r\nimport { apiRegisterUrl } from \"@/server\";\r\n\r\nconst { setUserData } = useAuth();\r\n\r\ndefinePageMeta({\r\n  layout: \"auth\",\r\n});\r\n\r\nconst form = reactive({\r\n  name: \"\",\r\n  country_code: \"\",\r\n  phone: \"\",\r\n  address: \"\",\r\n  email: \"\",\r\n  password: \"\",\r\n  confirm_password: \"\",\r\n});\r\n\r\nconst isLoading = ref(false);\r\n\r\nconst tokenCookies = useCookie(\"token\");\r\n\r\nasync function handleSubmit() {\r\n  isLoading.value = true;\r\n  await useRequest({\r\n    url: apiRegisterUrl,\r\n    requetOptions: {\r\n      body: JSON.stringify(form),\r\n      method: \"post\",\r\n      onResponse: ({ response }) => {\r\n        const responseData = response._data;\r\n        setUserData(responseData.data.user, responseData.meta?.token);\r\n        navigateTo(\"/home\");\r\n      },\r\n    },\r\n  });\r\n  isLoading.value = false;\r\n}\r\n</script>\r\n\r\n<template>\r\n  <form @submit.prevent=\"handleSubmit\">\r\n    <social-media-login />\r\n    <div class=\"my-16\">\r\n      <div class=\"mb-7\">\r\n        <shared-form-input\r\n          class=\"w-full bg-transparent\"\r\n          placeholder=\"الاسم\"\r\n          type=\"text\"\r\n          v-model=\"form.name\"\r\n        />\r\n      </div>\r\n      <div class=\"flex mb-7 gap-4\">\r\n        <shared-form-input\r\n          class=\"w-full bg-transparent max-w-[150px]\"\r\n          placeholder=\"كود الدولة\"\r\n          type=\"text\"\r\n          v-model=\"form.country_code\"\r\n        />\r\n        <shared-form-input\r\n          class=\"w-full bg-transparent\"\r\n          placeholder=\"رقم التليفون\"\r\n          type=\"text\"\r\n          v-model=\"form.phone\"\r\n        />\r\n      </div>\r\n      <div class=\"mb-7\">\r\n        <shared-form-input\r\n          class=\"w-full bg-transparent\"\r\n          placeholder=\"العنوان\"\r\n          type=\"text\"\r\n          v-model=\"form.address\"\r\n        />\r\n      </div>\r\n      <div class=\"mb-7\">\r\n        <shared-form-input\r\n          class=\"w-full bg-transparent\"\r\n          placeholder=\"البريد الالكترونى\"\r\n          type=\"email\"\r\n          v-model=\"form.email\"\r\n        />\r\n      </div>\r\n      <div class=\"mb-7\">\r\n        <shared-form-input\r\n          class=\"w-full bg-transparent\"\r\n          placeholder=\"كلمة المرور\"\r\n          type=\"password\"\r\n          v-model=\"form.password\"\r\n        />\r\n      </div>\r\n      <div class=\"mb-7\">\r\n        <shared-form-input\r\n          class=\"w-full bg-transparent\"\r\n          placeholder=\"تأكيد كلمة المرور\"\r\n          type=\"password\"\r\n          v-model=\"form.confirm_password\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"flex gap-4 items-center\">\r\n      <shared-buttons-primary-button\r\n        submit-title=\"استمرار\"\r\n        class=\"!bg-primary-200 text-white\"\r\n        type=\"submit\"\r\n        :loading=\"isLoading\"\r\n      />\r\n      <nuxt-link to=\"/auth/login\"\r\n        ><p class=\"text-primary-300 cursor-pointer text-2xl\">\r\n          لدي حساب بالفعل\r\n        </p></nuxt-link\r\n      >\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n<style scoped></style>\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKwB,YAAU;AAMlC,UAAM,OAAO,SAAS;AAAA,MACpB,MAAM;AAAA,MACN,cAAc;AAAA,MACd,OAAO;AAAA,MACP,SAAS;AAAA,MACT,OAAO;AAAA,MACP,UAAU;AAAA,MACV,kBAAkB;AAAA,IACpB,CAAC;AAED,UAAM,YAAY,IAAI,KAAK;AAEN,cAAU,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}