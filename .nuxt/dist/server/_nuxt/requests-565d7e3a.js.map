{"version":3,"file":"requests-565d7e3a.js","sources":["../../../../pages/dashboard/requests.vue"],"sourcesContent":["<script setup>\r\nimport { apiGetOrdersUrl } from \"@/server\";\r\n\r\nimport { handleDate } from \"@/helpers\";\r\n\r\nconst { selectedCountry } = useCountries();\r\n\r\nconst query = reactive({\r\n  country_id: selectedCountry.value.id,\r\n  name: \"\",\r\n  from: \"\",\r\n  to: \"\",\r\n});\r\n\r\nconst { fire } = useApi({\r\n  url: apiGetOrdersUrl,\r\n  requestOptions: {\r\n    query,\r\n  },\r\n});\r\n\r\nconst { data, pending, refresh } = await fire();\r\n\r\nfunction changeCountry(country) {\r\n  query.country_id = country;\r\n}\r\n\r\nfunction filterOrders() {\r\n  refresh();\r\n}\r\n</script>\r\n\r\n<template>\r\n  <section class=\"min-h-screen\">\r\n    <div class=\"mb-16\">\r\n      <shared-cards-filter>\r\n        <template v-slot:default>\r\n          <div class=\"flex-1\">\r\n            <div class=\"flex-1 w-full mb-9\">\r\n              <shared-form-input\r\n                type=\"search\"\r\n                placeholder=\"اسم العميل او رقم الهاتف\"\r\n                id=\"requeste-search-input\"\r\n                class=\"w-full\"\r\n                v-model=\"query.name\"\r\n              />\r\n            </div>\r\n            <div class=\"flex justify-between items-center\">\r\n              <div class=\"\">\r\n                <!-- <shared-from-to /> -->\r\n              </div>\r\n              <div class=\"flex gap-9 align-items-center\">\r\n                <dashboard-country-menu @changeCountry=\"changeCountry\" />\r\n                <shared-buttons-secondary-button\r\n                  submit-title=\"البحث\"\r\n                  class=\"!h-[3.5625rem] w-[105px]\"\r\n                  @click=\"filterOrders\"\r\n                  :disabled=\"pending\"\r\n                  :loading=\"pending\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </shared-cards-filter>\r\n    </div>\r\n\r\n    <div class=\"table overflow-auto\" v-if=\"!pending && data.data\">\r\n      <table class=\"w-full\">\r\n        <thead>\r\n          <tr>\r\n            <th\r\n              class=\"text-2xl text-gray-800 font-normal leading-normal block xl:hidden 2xl:block\"\r\n            >\r\n              كود الطلب\r\n            </th>\r\n            <th\r\n              class=\"text-2xl text-gray-800 font-normal leading-normal whitespace-nowrap\"\r\n            >\r\n              اسم العميل\r\n            </th>\r\n            <th class=\"text-2xl text-gray-800 font-normal leading-normal\">\r\n              المبلغ\r\n            </th>\r\n            <th class=\"text-2xl text-gray-800 font-normal leading-normal\">\r\n              الحالة\r\n            </th>\r\n            <th class=\"text-2xl text-gray-800 font-normal leading-normal\">\r\n              تاريخ الطلب\r\n            </th>\r\n            <th class=\"text-2xl text-gray-800 font-normal leading-normal\">\r\n              الدولة\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n\r\n        <tbody>\r\n          <tr v-for=\"order in data.data\" :key=\"order.id\">\r\n            <td\r\n              class=\"text-2xl text-gray-500 font-normal leading-normal block xl:hidden 2xl:block\"\r\n            >\r\n              {{ order.order_number }}\r\n            </td>\r\n            <td class=\"text-2xl text-gray-700 font-normal leading-normal\">\r\n              {{ order.client.name }}\r\n            </td>\r\n            <td class=\"text-2xl text-gray-700 font-normal leading-normal\">\r\n              {{ order.price }}\r\n            </td>\r\n            <td class=\"text-2xl text-gray-700 font-normal leading-normal\">\r\n              <shared-status :status=\"order.status\" />\r\n            </td>\r\n            <td class=\"text-2xl text-gray-700 font-normal leading-normal\">\r\n              {{ handleDate(order.created_at) }}\r\n            </td>\r\n            <td>\r\n              <img\r\n                :src=\"order.country.image\"\r\n                :alt=\"order.country.name + 'flag'\"\r\n                class=\"m-auto\"\r\n              />\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<style scoped></style>\r\n"],"names":["_withAsyncContext"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,UAAM,EAAE,gBAAe,IAAK;AAE5B,UAAM,QAAQ,SAAS;AAAA,MACrB,YAAY,gBAAgB,MAAM;AAAA,MAClC,MAAM;AAAA,MACN,MAAM;AAAA,MACN,IAAI;AAAA,IACN,CAAC;AAED,UAAM,EAAE,KAAM,IAAG,OAAO;AAAA,MACtB,KAAK;AAAA,MACL,gBAAgB;AAAA,QACd;AAAA,MACD;AAAA,IACH,CAAC;AAED,UAAM,EAAE,MAAM,SAAS,QAAS,KAAG,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAM,KAAI,CAAC;AAE9C,aAAS,cAAc,SAAS;AAC9B,YAAM,aAAa;AAAA,IACrB;AAEA,aAAS,eAAe;AACtB;IACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}