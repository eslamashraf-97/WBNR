import{_ as re}from"./Input.ee62193e.js";import M from"./Icon.fe93bad7.js";import{_ as B}from"./nuxt-link.9b0c7cb7.js";import{_ as W,R as le,h as ie,y as j,M as ce}from"./menu.af383dd6.js";import{u as F}from"./useCountries.9cb2765d.js";import{E as i,G as P,H as n,P as e,m as t,u as o,Q as b,a1 as U,a as L,T as pe,O as f,F as I,$ as V,Z as x,a6 as E,a0 as K,R as S,U as X,V as Y,ac as me}from"./swiper-vue.cec2437d.js";import{u as z}from"./useApi.a33fd01d.js";import{x as de,u as _e,E as ue,F as xe,f as fe,C as ge}from"./index.91beaf37.js";import{_ as ee}from"./entry.6d26f239.js";import{u as te}from"./useCartLength.2c8490eb.js";import{u as se}from"./useSavedProducts.a3ecb773.js";import{u as be}from"./useAuth.b517ff58.js";import{_ as ye,a as ve}from"./MainFooter.ed9209c8.js";import{u as A}from"./useRequest.c26dc291.js";import"./state.b5e2d2f6.js";const he={class:"flex items-center gap-[19px]"},we=["src"],Ce=["onClick"],ke=["src"],$e={__name:"CountriesMenu",setup(m){const{countries:s,selectedCountry:r,setSelectedCountry:w}=F();return(C,y)=>{const v=M,a=W;return i(),P(a,{items:o(s),"button-props":{class:"h-[3.6rem]  px-8 py-[.38rem]"},"menu-props":{class:"max-w-[13.5rem]"}},{label:n(()=>[e("div",he,[t(v,{name:"iconamoon:arrow-down-2-duotone"}),e("img",{src:o(r).image,class:"max-w-[2rem]",alt:""},null,8,we)])]),item:n(({data:c})=>[e("button",{type:"button",class:"flex gap-[1.19rem] items-center mb-[1.19rem] last:mb-0 py-2",onClick:d=>o(w)(c)},[e("img",{src:c.image,class:"max-w-[2rem]",alt:""},null,8,ke),e("span",null,b(c.name),1)],8,Ce)]),_:1},8,["items"])}}},Se=$e;const Ie=m=>(X("data-v-5d093d57"),m=m(),Y(),m),Ge={class:"flex items-center gap-[19px]"},Pe=Ie(()=>e("span",null,"جميع الفئات",-1)),Ue={class:"py-1 flex"},qe={class:"overflow-auto max-h-[300px] w-[20rem] items-scroller"},Le=["onClick"],Re={key:0,class:"overflow-auto max-h-[300px] w-[20rem] items-scroller"},Me=["onClick"],De={key:1,class:"overflow-auto max-h-[300px] w-[20rem] items-scroller"},Ne={__name:"CategoryMenu",async setup(m){var N,T,H,Q;let s,r;const{selectedCountry:w}=F(),{fire:C}=z({url:()=>_e}),{data:y,pending:v}=([s,r]=U(()=>C()),s=await s,r(),s),a=L((N=y.value)==null?void 0:N.data[0].id),c=L((T=y.value)==null?void 0:T.data[0]);function d(G){a.value=G.id,c.value=G,q.value.data=[]}const{fire:_}=z({url:()=>ue+"/"+a.value,requestOptions:{watch:[a]}}),{data:g,pending:k}=([s,r]=U(()=>_()),s=await s,r(),s),$=L((H=g.value)==null?void 0:H.data.sub_categories[0].id),R=L((Q=g.value)==null?void 0:Q.data.sub_categories[0]);function h(G){$.value=G.id,R.value=G}const{fire:D}=z({url:()=>de,requestOptions:{query:{country_id:w.value.id,category_id:$},watch:[$]}}),{data:q,pending:u}=([s,r]=U(()=>D()),s=await s,r(),s);return(G,l)=>{const O=M,ae=B;return i(),P(o(ce),{as:"div",class:"relative inline-block text-left"},{default:n(()=>[e("div",null,[t(o(le),{class:"rounded-sm border border-gray-300 hover:bg-gray-200 flex items-center text-2xl font-normal h-[3.6rem] px-8 py-[.38rem] bg-primary-100 text-primary-300"},{default:n(()=>[e("div",Ge,[Pe,t(O,{name:"iconamoon:arrow-down-2-duotone"})])]),_:1})]),t(pe,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:n(()=>[t(o(ie),{class:"absolute left-0 z-10 mt-2 border border-gray-200 rounded-[12px] px-8 py-9 bg-gray-100 text-start"},{default:n(()=>[e("div",Ue,[e("div",qe,[(i(!0),f(I,null,V(o(y).data,(p,Z)=>(i(),P(o(j),{key:p.id},{default:n(({active:J})=>[e("div",{onClick:x(ne=>d(p),["stop","prevent"]),class:E(["whitespace-nowrap text-xl text-gray-700 font-bold mb-[1rem] py-[.75rem] flex justify-between items-center cursor-pointer",{"text-primary-300":o(c).id===p.id}])},[e("span",null,b(p.name),1),t(O,{name:"carbon:chevron-left"})],10,Le)]),_:2},1024))),128))]),o(g).data.sub_categories.length?(i(),f("div",Re,[o(k)?(i(),f(I,{key:0},[e("div",{onClick:l[0]||(l[0]=x(()=>{},["stop","prevent"])),class:"h-[30px] bg-primary-100 animate-pulse mb-[1rem]"}),e("div",{onClick:l[1]||(l[1]=x(()=>{},["stop","prevent"])),class:"h-[30px] bg-primary-100 animate-pulse mb-[1rem]"}),e("div",{onClick:l[2]||(l[2]=x(()=>{},["stop","prevent"])),class:"h-[30px] bg-primary-100 animate-pulse mb-[1rem]"}),e("div",{onClick:l[3]||(l[3]=x(()=>{},["stop","prevent"])),class:"h-[30px] bg-primary-100 animate-pulse mb-[1rem]"})],64)):(i(!0),f(I,{key:1},V(o(g).data.sub_categories,(p,Z)=>(i(),P(o(j),{key:p.id},{default:n(({active:J})=>[e("div",{onClick:x(ne=>h(p),["stop","prevent"]),class:E(["whitespace-nowrap text-xl text-gray-700 font-normal mb-[1rem] py-[.75rem] flex justify-between items-center cursor-pointer",{"text-primary-300":o(R).id===p.id}])},[e("span",null,b(p.name),1),t(O,{name:"carbon:chevron-left"})],10,Me)]),_:2},1024))),128))])):K("",!0),o(q).data.length?(i(),f("div",De,[o(u)?(i(),f(I,{key:0},[e("div",{onClick:l[4]||(l[4]=x(()=>{},["stop","prevent"])),class:"h-[30px] bg-primary-100 animate-pulse mb-[1rem]"}),e("div",{onClick:l[5]||(l[5]=x(()=>{},["stop","prevent"])),class:"h-[30px] bg-primary-100 animate-pulse mb-[1rem]"}),e("div",{onClick:l[6]||(l[6]=x(()=>{},["stop","prevent"])),class:"h-[30px] bg-primary-100 animate-pulse mb-[1rem]"}),e("div",{onClick:l[7]||(l[7]=x(()=>{},["stop","prevent"])),class:"h-[30px] bg-primary-100 animate-pulse mb-[1rem]"})],64)):(i(!0),f(I,{key:1},V(o(q).data,(p,Z)=>(i(),P(o(j),{key:p.id},{default:n(({active:J})=>[t(ae,{to:`/product/${p.id}`,class:"whitespace-nowrap text-xl text-gray-700 font-normal mb-[1rem] py-[.75rem] flex justify-between items-center cursor-pointer"},{default:n(()=>[S(b(p.title),1)]),_:2},1032,["to"])]),_:2},1024))),128))])):K("",!0)])]),_:1})]),_:1})]),_:1})}}},Oe=ee(Ne,[["__scopeId","data-v-5d093d57"]]),je=""+new URL("avatar.a9b68373.svg",import.meta.url).href,Ve=""+new URL("logout.e574a3de.svg",import.meta.url).href;const oe=m=>(X("data-v-f4211fac"),m=m(),Y(),m),ze={class:"bg-white py-8"},Ae={class:"container flex justify-between items-center border-b border-b-primary-100 pb-[24px] mb-[24px]"},Be={class:"flex items-center gap-[64px]"},Ee=oe(()=>e("img",{src:ye},null,-1)),Fe={class:"relative layout-navbar-search hidden xl:block"},Te={class:"absolute top-0 left-0 bottom-0 rounded-tl-[11px] rounded-bl-[11px] bg-primary-100 text-primary-300 w-[75px] flex items-center justify-center border border-gray-200 border-s-0"},He={class:"flex flex-col-reverse sm:flex-row items-end sm:items-center gap-4 sm:gap-8"},Qe={class:"flex items-center gap-9"},Ze={class:"flex items-center gap-[19px]"},Je={class:"leading-normal text-2xl text-gray-700"},Ke=["src","alt"],We={class:"flex-1 whitespace-nowrap"},Xe=["onClick"],Ye=["src","alt"],et={class:"flex-1 whitespace-nowrap"},tt={class:"container flex justify-between items-center"},st={class:"hidden xl:flex items-center gap-[24px]"},ot=oe(()=>e("span",{class:"h-[36px] w-[1px] bg-gray-200"},null,-1)),at={class:"flex items-center gap-[36px]"},nt={class:"hidden xl:block"},rt={class:"flex flex-col gap-[24px] relative z-10 bg-white w-[300px] h-full p-8"},lt={__name:"Navbar",setup(m){const{cartLength:s}=te(),{savedProductsCount:r}=se(),{removeUserData:w,user:C}=be(),y=[{image:je,link:"/profile",title:"اعدادات الحساب"},{image:Ve,function:()=>{w(),window.location.reload()},title:"تسجيل الخروج"}],v=L(!1);function a(){v.value=!v.value}return(c,d)=>{const _=re,g=M,k=M,$=B,R=W,h=B,D=Se,q=Oe;return i(),f(I,null,[e("div",ze,[e("div",Ae,[e("div",Be,[Ee,e("div",Fe,[t(_,{placeholder:"ما الذي تبحث عنه؟",type:"text",class:"pe-[80px] !w-[35rem]"}),e("span",Te,[t(g,{name:"system-uicons:search",class:"text-4xl"})])])]),e("div",He,[e("div",Qe,[t(k,{name:"pepicons-pencil:bell",class:"text-gray-600 text-2xl"}),t($,{to:"/saved-products",class:"flex items-center gap-2 text-2xl"},{default:n(()=>[e("span",null,b(o(r)),1),t(k,{name:"fluent:bookmark-20-regular",class:"text-gray-600"})]),_:1}),t($,{to:"/cart",class:"flex items-center gap-2 text-2xl"},{default:n(()=>[e("span",null,b(o(s)),1),t(k,{name:"solar:cart-large-minimalistic-linear",class:"text-gray-600"})]),_:1})]),t(R,{items:y,"menu-props":{class:"!min-w-0 text-start"},"button-props":{class:"!px-8"}},{label:n(()=>[e("div",Ze,[t(k,{name:"iconamoon:arrow-down-2-duotone"}),e("span",Je,b(o(C).name.substring(0,5)),1)])]),item:n(({data:u})=>[u.link?(i(),P($,{key:0,to:u.link,class:"flex items-center gap-6 leading-normal text-2xl text-gray-700 mb-[1.19rem]"},{default:n(()=>[e("img",{src:u.image,alt:u.title,class:""},null,8,Ke),e("span",We,b(u.title),1)]),_:2},1032,["to"])):(i(),f("button",{key:1,type:"button",onClick:N=>u.function(),class:"flex items-center gap-6 leading-normal text-2xl text-gray-700"},[e("img",{src:u.image,alt:u.title,class:""},null,8,Ye),e("span",et,b(u.title),1)],8,Xe))]),_:1})])]),e("div",tt,[e("nav",st,[t(h,{to:"/home",class:"px-[36px] py-[6px] h-[57px] text-[24px] text-gray-500 font-semibold border-b border-b-transparent"},{default:n(()=>[S("الرئيسية")]),_:1}),t(h,{to:"/suggested-products",class:"px-[36px] py-[6px] h-[57px] text-[24px] text-gray-500 font-semibold border-b border-b-transparent"},{default:n(()=>[S("منتجات مرشحة لك")]),_:1}),ot,t(h,{to:"/dashboard",class:"px-[36px] py-[6px] h-[57px] text-[24px] text-gray-500 font-semibold border-b border-b-transparent"},{default:n(()=>[S("لوحة التحكم")]),_:1})]),e("button",{type:"button",class:"block xl:hidden text-gray-500",onClick:a},[t(k,{name:"uil:bars",class:"text-5xl"})]),e("div",at,[t(D),e("div",nt,[t(q)])])])]),e("div",{class:E(["fixed top-0 bottom-0 left-full w-full z-50 transition-all",{"!left-0":o(v)}])},[e("div",{class:"absolute inset-0 bg-black/10",onClick:a}),e("nav",rt,[t(h,{to:"/home",class:"h-[57px] text-2xl text-gray-500 font-semibold border-b border-b-transparent",onClick:a},{default:n(()=>[S("الرئيسية")]),_:1}),t(h,{to:"/suggested-products",class:"h-[57px] text-2xl text-gray-500 font-semibold border-b border-b-transparent",onClick:a},{default:n(()=>[S("منتجات مرشحة لك")]),_:1}),t(h,{to:"/dashboard",class:"h-[57px] text-2xl text-gray-500 font-semibold border-b border-b-transparent",onClick:a},{default:n(()=>[S("لوحة التحكم")]),_:1})])],2)],64)}}},it=ee(lt,[["__scopeId","data-v-f4211fac"]]),ct={class:"min-h-screen pt-[128px] pb-[160px] container"},$t={__name:"default",async setup(m){let s,r;const{setCountries:w,selectedCountry:C}=F(),{setCartLength:y}=te(),{setSavedProductsCount:v}=se();return[s,r]=U(()=>A({url:xe,requetOptions:{onResponse:a=>{w(a.response._data)}}})),await s,r(),[s,r]=U(()=>{var a;return A({url:()=>fe,requetOptions:{query:{country_id:(a=C.value)==null?void 0:a.id},onResponse:c=>{var d,_;y((_=(d=c.response)==null?void 0:d._data)==null?void 0:_.data.cart_length)}}})}),await s,r(),[s,r]=U(()=>{var a;return A({url:()=>ge,requetOptions:{query:{country_id:(a=C.value)==null?void 0:a.id},onResponse:c=>{var d,_,g;console.log((d=c.response)==null?void 0:d._data),v((g=(_=c.response)==null?void 0:_._data)==null?void 0:g.data.length)}}})}),await s,r(),(a,c)=>{const d=it,_=ve;return i(),f(I,null,[t(d),e("div",ct,[me(a.$slots,"default")]),t(_)],64)}}};export{$t as default};
