import{_ as c}from"./Input.ee62193e.js";import{_ as f}from"./PrimaryButton.3590a7ea.js";import{_ as h}from"./nuxt-link.9b0c7cb7.js";import{u as g}from"./useAuth.b517ff58.js";import{a as b,r as x,E as v,O as w,m as s,P as a,H as y,Z as V}from"./swiper-vue.cec2437d.js";import{u as k,n as m}from"./entry.6d26f239.js";import{u as S}from"./useRequest.c26dc291.js";import{S as L}from"./SocialMediaLogin.a95a92b7.js";import{a as U}from"./index.91beaf37.js";import"./LoaderButton.181013ce.js";import"./state.b5e2d2f6.js";import"./useApi.a33fd01d.js";const B=["onSubmit"],D={class:"my-16"},N={class:"mb-7"},O={class:"flex gap-4 items-center"},q=a("p",{class:"text-primary-300 text-2xl"},"ليس لدي حساب",-1),F={__name:"login",setup(C){const{setUserData:l}=g(),r=b(!1),e=x({user:"",password:""});k("token");async function u(){r.value=!0,await S({url:U,requetOptions:{body:JSON.stringify(e),method:"post",onResponse:({response:n})=>{var o;const t=n._data;l(t.data.user,(o=t.meta)==null?void 0:o.token),m("/home")}}}),r.value=!1}function p(n){var o;const t=n;l(t.data.customer,(o=t.meta)==null?void 0:o.token),m("/home")}return(n,t)=>{const o=c,_=f,d=h;return v(),w("form",{onSubmit:V(u,["prevent"])},[s(L,{onLoginWith:p}),a("div",D,[a("div",N,[s(o,{class:"w-full bg-transparent",placeholder:"البريد الالكترونى",type:"email",modelValue:e.user,"onUpdate:modelValue":t[0]||(t[0]=i=>e.user=i)},null,8,["modelValue"])]),a("div",null,[s(o,{class:"w-full bg-transparent",placeholder:"كلمة المرور",modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=i=>e.password=i),type:"password"},null,8,["modelValue"])])]),a("div",O,[s(_,{"submit-title":"استمرار",class:"!bg-primary-200 text-white",type:"submit",loading:r.value},null,8,["loading"]),s(d,{to:"/auth/register"},{default:y(()=>[q]),_:1})])],40,B)}}};export{F as default};
